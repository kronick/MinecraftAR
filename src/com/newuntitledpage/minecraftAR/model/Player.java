package com.newuntitledpage.minecraftAR.model;

import javax.media.opengl.*;

public class Player {
	public byte ID;
	public int[] position;
	public byte[] orientation;
	public String name;

	// Display list indices for body parts
	public static final int TORSO = 0;
	public static final int HEAD = 1;
	public static final int ARM_RIGHT = 2;
	public static final int ARM_LEFT = 3;
	public static final int LEG_RIGHT = 4;
	public static final int LEG_LEFT = 5;

	public static final float TORSO_CENTER_Y = 1.125f;
	public static final float HEAD_CENTER_Y = 1.5f;
	public static final float TORSO_HALF_WIDTH = 0.25f;
	public static final float WAIST_Y = 0.75f;

	public Player(byte ID, String name, short x, short y, short z, byte heading, byte pitch) {
		this.ID = ID;
		this.position = new int[3];
		this.position[0] = x;
		this.position[1] = y;
		this.position[2] = z;
		this.orientation = new byte[2];
		this.orientation[0] = heading;
		this.orientation[1] = pitch;
		this.name = name.trim();
	}

	public static int makeDisplayLists(GL gl) {
		int start = gl.glGenLists(6);

		float[][][] torso = {{{0,0, 1}, {20/64f, 32/32f, -0.25f,-0.375f, 0.125f}, {28/64f, 32/32f,  0.25f,-0.375f, 0.125f},
									    {28/64f, 20/32f,  0.25f, 0.375f, 0.125f}, {20/64f, 20/32f, -0.25f, 0.375f, 0.125f}}, // Front

							 {{0,0,-1}, {32/64f, 32/32f,  0.25f,-0.375f,-0.125f}, {40/64f, 32/32f, -0.25f,-0.375f,-0.125f},
										{40/64f, 20/32f, -0.25f, 0.375f,-0.125f}, {32/64f, 20/32f,  0.25f, 0.375f,-0.125f}}, // Back

							 {{-1,0,0}, {16/64f, 20/32f, -0.25f, 0.375f,-0.125f}, {16/64f, 32/32f, -0.25f,-0.375f,-0.125f},
										{20/64f, 32/32f, -0.25f,-0.375f, 0.125f}, {20/64f, 20/32f, -0.25f, 0.375f, 0.125f}}, // Left

							 {{ 1,0,0}, {28/64f, 20/32f,  0.25f, 0.375f, 0.125f}, {28/64f, 32/32f,  0.25f,-0.375f, 0.125f},
										{32/64f, 32/32f,  0.25f,-0.375f,-0.125f}, {32/64f, 20/32f,  0.25f, 0.375f,-0.125f}}, // Right

							 {{0, 1,0}, {20/64f, 16/32f, -0.25f, 0.375f,-0.125f}, {20/64f, 20/32f, -0.25f, 0.375f, 0.125f},
							 		    {28/64f, 20/32f,  0.25f, 0.375f, 0.125f}, {28/64f, 16/32f,  0.25f, 0.375f,-0.125f}}, // Top

							 {{0, 1,0}, {28/64f, 16/32f,  0.25f,-0.375f,-0.125f}, {28/64f, 20/32f,  0.25f,-0.375f, 0.125f},
								 		{36/64f, 20/32f, -0.25f,-0.375f, 0.125f}, {36/64f, 16/32f, -0.25f,-0.375f,-0.125f}}  // Bottom
							};

		float[][][] head  = {{{0,0, 1}, { 8/64f, 16/32f, -0.25f,0.00f, 0.25f}, {16/64f, 16/32f,  0.25f,0.00f, 0.25f},
									    {16/64f,  8/32f,  0.25f,0.50f, 0.25f}, { 8/64f,  8/32f, -0.25f,0.50f, 0.25f}}, // Front

							 {{0,0,-1}, {24/64f, 16/32f,  0.25f,0.00f,-0.25f}, {32/64f, 16/32f, -0.25f,0.00f,-0.25f},
										{32/64f,  8/32f, -0.25f,0.50f,-0.25f}, {24/64f,  8/32f,  0.25f,0.50f,-0.25f}}, // Back

							 {{-1,0,0}, { 0/64f,  8/32f, -0.25f,0.50f,-0.25f}, { 0/64f, 16/32f, -0.25f,0.00f,-0.25f},
										{ 8/64f, 16/32f, -0.25f,0.00f, 0.25f}, { 8/64f,  8/32f, -0.25f,0.50f, 0.25f}}, // Left

							 {{ 1,0,0}, {16/64f,  8/32f,  0.25f,0.50f, 0.25f}, {16/64f, 16/32f,  0.25f,0.00f, 0.25f},
										{24/64f, 16/32f,  0.25f,0.00f,-0.25f}, {24/64f,  8/32f,  0.25f,0.50f,-0.25f}}, // Right

							 {{0, 1,0}, { 8/64f,  0/32f, -0.25f,0.50f,-0.25f}, { 8/64f,  8/32f, -0.25f,0.50f, 0.25f},
							 		    {16/64f,  8/32f,  0.25f,0.50f, 0.25f}, {16/64f,  0/32f,  0.25f,0.50f,-0.25f}}, // Top

							 {{0, 1,0}, {16/64f,  0/32f,  0.25f,0.00f,-0.25f}, {16/64f,  8/32f,  0.25f,0.00f, 0.25f},
								 		{24/64f,  8/32f, -0.25f,0.00f, 0.25f}, {24/64f,  0/32f, -0.25f,0.00f,-0.25f}}  // Bottom
							};

		float[][][] armR  = {{{0,0, 1}, {44/64f, 32/32f,  0.00f,-0.75f, 0.125f}, {48/64f, 32/32f,  0.25f,-0.75f, 0.125f},
									    {48/64f, 20/32f,  0.25f, 0.00f, 0.125f}, {44/64f, 20/32f,  0.00f, 0.00f, 0.125f}}, // Front

							 {{0,0,-1}, {52/64f, 32/32f,  0.25f,-0.75f,-0.125f}, {56/64f, 32/32f,  0.00f,-0.75f,-0.125f},
										{56/64f, 20/32f,  0.00f, 0.00f,-0.125f}, {52/64f, 20/32f,  0.25f, 0.00f,-0.125f}}, // Back

							 {{-1,0,0}, {40/64f, 20/32f,  0.00f, 0.00f,-0.125f}, {40/64f, 32/32f,  0.00f,-0.75f,-0.125f},
										{44/64f, 32/32f,  0.00f,-0.75f, 0.125f}, {44/64f, 20/32f,  0.00f, 0.00f, 0.125f}}, // Left

							 {{ 1,0,0}, {48/64f, 20/32f,  0.25f, 0.00f, 0.125f}, {48/64f, 32/32f,  0.25f,-0.75f, 0.125f},
										{52/64f, 32/32f,  0.25f,-0.75f,-0.125f}, {52/64f, 20/32f,  0.25f, 0.00f,-0.125f}}, // Right

							 {{0, 1,0}, {44/64f, 16/32f,  0.00f, 0.00f,-0.125f}, {44/64f, 20/32f,  0.00f, 0.00f, 0.125f},
							 		    {48/64f, 20/32f,  0.25f, 0.00f, 0.125f}, {48/64f, 16/32f,  0.25f, 0.00f,-0.125f}}, // Top

							 {{0, 1,0}, {48/64f, 16/32f,  0.25f,-0.75f,-0.125f}, {48/64f, 20/32f,  0.25f,-0.75f, 0.125f},
								 		{52/64f, 20/32f,  0.00f,-0.75f, 0.125f}, {52/64f, 16/32f,  0.00f,-0.75f,-0.125f}}  // Bottom
							};

		float[][][] armL  = {{{0,0, 1}, {44/64f, 32/32f, -0.25f,-0.75f, 0.125f}, {48/64f, 32/32f,  0.00f,-0.75f, 0.125f},
									    {48/64f, 20/32f,  0.00f, 0.00f, 0.125f}, {44/64f, 20/32f, -0.25f, 0.00f, 0.125f}}, // Front

							 {{0,0,-1}, {52/64f, 32/32f,  0.00f,-0.75f,-0.125f}, {56/64f, 32/32f, -0.25f,-0.75f,-0.125f},
										{56/64f, 20/32f, -0.25f, 0.00f,-0.125f}, {52/64f, 20/32f,  0.00f, 0.00f,-0.125f}}, // Back

							 {{-1,0,0}, {40/64f, 20/32f, -0.25f, 0.00f,-0.125f}, {40/64f, 32/32f, -0.25f,-0.75f,-0.125f},
										{44/64f, 32/32f, -0.25f,-0.75f, 0.125f}, {44/64f, 20/32f, -0.25f, 0.00f, 0.125f}}, // Left

							 {{ 1,0,0}, {48/64f, 20/32f,  0.00f, 0.00f, 0.125f}, {48/64f, 32/32f,  0.00f,-0.75f, 0.125f},
										{52/64f, 32/32f,  0.00f,-0.75f,-0.125f}, {52/64f, 20/32f,  0.00f, 0.00f,-0.125f}}, // Right

							 {{0, 1,0}, {44/64f, 16/32f, -0.25f, 0.00f,-0.125f}, {44/64f, 20/32f, -0.25f, 0.00f, 0.125f},
							 		    {48/64f, 20/32f,  0.00f, 0.00f, 0.125f}, {48/64f, 16/32f,  0.00f, 0.00f,-0.125f}}, // Top

							 {{0, 1,0}, {48/64f, 16/32f,  0.00f,-0.75f,-0.125f}, {48/64f, 20/32f,  0.00f,-0.75f, 0.125f},
								 		{52/64f, 20/32f, -0.25f,-0.75f, 0.125f}, {52/64f, 16/32f, -0.25f,-0.75f,-0.125f}}  // Bottom
							};

		float[][][] legR  = {{{0,0, 1}, { 4/64f, 32/32f,  0.00f,-0.75f, 0.125f}, { 8/64f, 32/32f,  0.25f,-0.75f, 0.125f},
									    { 8/64f, 20/32f,  0.25f, 0.00f, 0.125f}, { 4/64f, 20/32f,  0.00f, 0.00f, 0.125f}}, // Front

							 {{0,0,-1}, {12/64f, 32/32f,  0.25f,-0.75f,-0.125f}, {16/64f, 32/32f,  0.00f,-0.75f,-0.125f},
										{16/64f, 20/32f,  0.00f, 0.00f,-0.125f}, {12/64f, 20/32f,  0.25f, 0.00f,-0.125f}}, // Back

							 {{-1,0,0}, { 0/64f, 20/32f,  0.00f, 0.00f,-0.125f}, { 0/64f, 32/32f,  0.00f,-0.75f,-0.125f},
										{ 4/64f, 32/32f,  0.00f,-0.75f, 0.125f}, { 4/64f, 20/32f,  0.00f, 0.00f, 0.125f}}, // Left

							 {{ 1,0,0}, { 8/64f, 20/32f,  0.25f, 0.00f, 0.125f}, { 8/64f, 32/32f,  0.25f,-0.75f, 0.125f},
										{12/64f, 32/32f,  0.25f,-0.75f,-0.125f}, {12/64f, 20/32f,  0.25f, 0.00f,-0.125f}}, // Right

							 {{0, 1,0}, { 4/64f, 16/32f,  0.00f, 0.00f,-0.125f}, { 4/64f, 20/32f,  0.00f, 0.00f, 0.125f},
							 		    { 8/64f, 20/32f,  0.25f, 0.00f, 0.125f}, { 8/64f, 16/32f,  0.25f, 0.00f,-0.125f}}, // Top

							 {{0, 1,0}, { 8/64f, 16/32f,  0.25f,-0.75f,-0.125f}, { 8/64f, 20/32f,  0.25f,-0.75f, 0.125f},
								 		{12/64f, 20/32f,  0.00f,-0.75f, 0.125f}, {12/64f, 16/32f,  0.00f,-0.75f,-0.125f}}  // Bottom
							};

		float[][][] legL  = {{{0,0, 1}, { 4/64f, 32/32f, -0.25f,-0.75f, 0.125f}, { 8/64f, 32/32f,  0.00f,-0.75f, 0.125f},
									    { 8/64f, 20/32f,  0.00f, 0.00f, 0.125f}, { 4/64f, 20/32f, -0.25f, 0.00f, 0.125f}}, // Front

							 {{0,0,-1}, {12/64f, 32/32f,  0.00f,-0.75f,-0.125f}, {16/64f, 32/32f, -0.25f,-0.75f,-0.125f},
										{16/64f, 20/32f, -0.25f, 0.00f,-0.125f}, {12/64f, 20/32f,  0.00f, 0.00f,-0.125f}}, // Back

							 {{-1,0,0}, { 0/64f, 20/32f, -0.25f, 0.00f,-0.125f}, { 0/64f, 32/32f, -0.25f,-0.75f,-0.125f},
										{ 4/64f, 32/32f, -0.25f,-0.75f, 0.125f}, { 4/64f, 20/32f, -0.25f, 0.00f, 0.125f}}, // Left

							 {{ 1,0,0}, { 8/64f, 20/32f,  0.00f, 0.00f, 0.125f}, { 8/64f, 32/32f,  0.00f,-0.75f, 0.125f},
										{12/64f, 32/32f,  0.00f,-0.75f,-0.125f}, {12/64f, 20/32f,  0.00f, 0.00f,-0.125f}}, // Right

							 {{0, 1,0}, { 4/64f, 16/32f, -0.25f, 0.00f,-0.125f}, { 4/64f, 20/32f, -0.25f, 0.00f, 0.125f},
							 		    { 8/64f, 20/32f,  0.00f, 0.00f, 0.125f}, { 8/64f, 16/32f,  0.00f, 0.00f,-0.125f}}, // Top

							 {{0, 1,0}, { 8/64f, 16/32f,  0.00f,-0.75f,-0.125f}, { 8/64f, 20/32f,  0.00f,-0.75f, 0.125f},
								 		{12/64f, 20/32f, -0.25f,-0.75f, 0.125f}, {12/64f, 16/32f, -0.25f,-0.75f,-0.125f}}  // Bottom
							};


		float[][][][] bodyParts = {torso, head, armR, armL, legR, legL};

		for(int i=0; i<bodyParts.length; i++) {
			gl.glNewList(start + i, GL.GL_COMPILE);
			gl.glBegin(GL.GL_QUADS);
			for(int f=0; f<bodyParts[i].length; f++) {
				gl.glNormal3f(bodyParts[i][f][0][0], bodyParts[i][f][0][1], bodyParts[i][f][0][2]);
				for(int v=1; v<bodyParts[i][f].length; v++) {
					if(bodyParts[i][f][v].length == 5) {
						gl.glTexCoord2f(bodyParts[i][f][v][0], bodyParts[i][f][v][1]);
						gl.glVertex3f(bodyParts[i][f][v][2], bodyParts[i][f][v][3], bodyParts[i][f][v][4]);
					}
					else {
						gl.glVertex3f(bodyParts[i][f][v][0], bodyParts[i][f][v][1], bodyParts[i][f][v][2]);
					}
				}
			}
			gl.glEnd();
			gl.glEndList();
		}
		return start;
	}
}
